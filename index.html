async function generateImage() {
    let text = document.getElementById("textInput").value.trim();
    let imageElement = document.getElementById("imageResult");
    let errorMessage = document.getElementById("errorMessage");

    if (!text) {
        errorMessage.textContent = "❌ Please enter a prompt!";
        errorMessage.classList.remove("hidden");
        return;
    }

    errorMessage.classList.add("hidden");
    imageElement.classList.add("hidden");

    let response = await fetch("https://spring-paper-ac21.evilorganization.workers.dev?text=" + encodeURIComponent(text));

    if (response.ok) {
        let data = await response.json();
        imageElement.src = data.imageUrl;
        imageElement.classList.remove("hidden");
    } else {
        let errorData = await response.json();
        errorMessage.textContent = "⚠️ " + errorData.error;
        errorMessage.classList.remove("hidden");
    }
}
